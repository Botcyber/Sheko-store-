<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€“ SHEKO</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body {
    font-family: Arial;
    background:#111;
    color:white;
    padding:20px;
    text-align:center;
}
h2 { margin-bottom:30px; }

input, button, select {
    padding:10px; margin:10px;
    border-radius:6px; border:none;
}
button {
    background:red; color:white; cursor:pointer;
}

/* ØµÙ†Ø§Ø¯ÙŠÙ‚ */
.box {
    background:#222; padding:15px;
    border-radius:8px; margin-top:20px;
    text-align:center;
}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
table { width:100%; margin-top:10px; border-collapse: collapse; }
th, td { padding:10px; border-bottom:1px solid #444; text-align:center; }
th { background:#333; }

img { max-width:100px; border-radius:10px; }
</style>
</head>
<body>

<h2>ğŸ”¥ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€“ Ø§Ù„ØµÙˆØ±Ø© + Ø§Ù„Ø±ÙˆØ§Ø¨Ø· + Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ ğŸ”¥</h2>

<!-- Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© -->
<div class="box">
  <h3>Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h3>
  <input type="file" id="mainImage">
  <button onclick="uploadImage()">Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©</button>
</div>

<!-- Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· -->
<div class="box">
  <h3>Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· Ù„Ù„ØµÙØ­Ø©</h3>
  <input id="linkText" placeholder="Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·">
  <input id="linkURL" placeholder="Ø§Ù„Ø±Ø§Ø¨Ø·">
  <select id="linkIcon">
    <option value="ğŸµ">Ù…ÙˆØ³ÙŠÙ‚Ù‰</option>
    <option value="ğŸ“º">ÙÙŠØ¯ÙŠÙˆ</option>
    <option value="ğŸ›’">Ù…ØªØ¬Ø±</option>
    <option value="ğŸ’¬">Ø¯Ø±Ø¯Ø´Ø©</option>
    <option value="ğŸ”¥">Ø´Ø§Ø¦Ø¹</option>
  </select>
  <button onclick="addLink()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø·</button>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ© -->
  <table id="linksTable">
    <thead>
      <tr><th>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ø±Ø§Ø¨Ø·</th><th>ØªØ­Ø±ÙŠØ±</th><th>Ø­Ø°Ù</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø³ÙˆØ´ÙŠØ§Ù„ -->
<div class="box">
  <h3>Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§</h3>
  <select id="socialType">
    <option value="facebook">Facebook</option>
    <option value="instagram">Instagram</option>
    <option value="youtube">YouTube</option>
    <option value="tiktok">TikTok</option>
    <option value="twitter">Twitter</option>
    <option value="snapchat">Snapchat</option>
  </select>
  <input id="socialURL" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨">
  <button onclick="addSocial()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨</button>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAYcZ2_RjaI4fjP14QlqbUbL3rWvPPWnas",
  authDomain: "sheko-store.firebaseapp.com",
  databaseURL: "https://sheko-store-default-rtdb.firebaseio.com",
  projectId: "sheko-store",
  storageBucket: "sheko-store.appspot.com",
  messagingSenderId: "113892775847",
  appId: "1:113892775847:web:2aa4c11c3f5dd1d15f0882"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© ÙƒÙ€ Base64
function uploadImage(){
  const file = document.getElementById("mainImage").files[0];
  if(!file){ alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹"); return; }
  const reader = new FileReader();
  reader.onload = function(e){
    const base64 = e.target.result;
    db.ref("mainPage/image").set(base64)
      .then(()=> alert("âœ” ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­"));
  };
  reader.readAsDataURL(file);
}

// Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø·
function addLink(){
  const name = document.getElementById("linkText").value.trim();
  const url = document.getElementById("linkURL").value.trim();
  const icon = document.getElementById("linkIcon").value;

  if(!name || !url){ alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø±Ø§Ø¨Ø·"); return; }

  db.ref("mainPage/links").push({ name, url, icon });

  document.getElementById("linkText").value="";
  document.getElementById("linkURL").value="";
  alert("âœ” ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø·");
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù
db.ref("mainPage/links").on("value", snap=>{
  const tbody = document.querySelector("#linksTable tbody");
  tbody.innerHTML="";
  snap.forEach(child=>{
    const data = child.val();
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${data.icon}</td>
      <td>${data.name}</td>
      <td>${data.url}</td>
      <td><button onclick="editLink('${child.key}')">âœï¸</button></td>
      <td><button onclick="deleteLink('${child.key}')">âŒ</button></td>
    `;
    tbody.appendChild(tr);
  });
});

// ØªØ¹Ø¯ÙŠÙ„ Ø±Ø§Ø¨Ø·
function editLink(key){
  db.ref("mainPage/links/"+key).once("value", snap=>{
    const data = snap.val();
    const newName = prompt("Ø§Ø³Ù… Ø¬Ø¯ÙŠØ¯:", data.name);
    const newURL = prompt("Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙŠØ¯:", data.url);
    if(newName && newURL){
      db.ref("mainPage/links/"+key).update({name:newName, url:newURL});
    }
  });
}

// Ø­Ø°Ù Ø±Ø§Ø¨Ø·
function deleteLink(key){
  if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø·ØŸ")){
    db.ref("mainPage/links/"+key).remove();
  }
}

// Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø³ÙˆØ´ÙŠØ§Ù„
function addSocial(){
  const type = document.getElementById("socialType").value;
  const url = document.getElementById("socialURL").value.trim();
  if(!url){ alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø§Ø¨Ø·"); return; }
  db.ref("mainPage/social").push({ type, url });
  document.getElementById("socialURL").value="";
  alert("âœ” ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨");
}
</script>

</body>
</html>
