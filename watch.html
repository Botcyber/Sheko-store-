<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مشاهدة الفيديو</title>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<style>
body {margin:0;background:#111;color:white;font-family:Arial;padding:20px;}
.video-wrapper {max-width:800px;margin:auto;}
video {width:100%;border-radius:10px;}
h2 {margin-top:10px;}
</style>
</head>
<body>

<div class="video-wrapper">
  <video id="videoPlayer" controls></video>
  <h2 id="videoTitle"></h2>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAYcZ2_RjaI4fjP14QlqbUbL3rWvPPWnas",
  authDomain: "sheko-store.firebaseapp.com",
  databaseURL: "https://sheko-store-default-rtdb.firebaseio.com",
  projectId: "sheko-store",
  storageBucket: "sheko-store.appspot.com",
  messagingSenderId: "113892775847",
  appId: "1:113892775847:web:2aa4c11c3f5dd1d15f0882"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// جلب مفتاح الفيديو من الرابط
const urlParams = new URLSearchParams(window.location.search);
const videoId = urlParams.get('id');

const videoPlayer = document.getElementById('videoPlayer');
const videoTitle = document.getElementById('videoTitle');

if(videoId){
  db.ref('videos/' + videoId).once('value').then(snapshot=>{
    const data = snapshot.val();
    if(data){
      videoPlayer.src = data.video; // الرابط الذي وضعته في صفحة الإضافة
      videoTitle.innerText = data.title;
    }else{
      videoTitle.innerText = 'الفيديو غير موجود';
    }
  });
}else{
  videoTitle.innerText = 'لم يتم تحديد فيديو';
}
</script>

</body>
</html>
