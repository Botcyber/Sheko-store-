<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Sheko Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body { font-family: 'Cairo', sans-serif; margin: 0; background: #f1f1f1; }
    .top-bar { display: flex; justify-content: space-between; align-items: center; background: #222; padding: 10px 20px; color: white; flex-wrap: wrap; }
    .nav-icons { display: flex; gap: 25px; flex-direction: column; }
    .nav-icons a { color: white; text-decoration: none; display: flex; flex-direction: row; align-items: center; font-size: 14px; position: relative; transition: color 0.3s ease; gap: 8px; }
    .nav-icons a i { font-size: 20px; margin: 0; }
    .nav-icons a:hover { color: #ffb700; }
    #notifBadge, #chatBadge {
      position: absolute;
      top: 0;
      left: 5px;
      background: red;
      color: white;
      font-size: 12px;
      font-weight: bold;
      border-radius: 50%;
      padding: 2px 6px;
      display: none;
      transform: translate(-50%, 50%);
      user-select: none;
      pointer-events: none;
    }
    .user-area { display: flex; align-items: center; gap: 15px; font-size: 15px; }
    #balance { font-weight: bold; }
    button { background: #444; border: none; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: bold; transition: background 0.3s ease; font-size: 14px; }
    button i { font-size: 16px; }
    button:hover { background: #ffb700; color: #222; }
    .dashboard { max-width: 800px; margin: auto; padding: 20px; background: white; border-radius: 12px; margin-top: 30px; position: relative; }
    label, select, input { display: block; width: 100%; margin: 10px 0; padding: 8px; border-radius: 5px; border: 1px solid #ccc; }
    button.order-btn { background: #222; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 15px; font-weight: bold; }
    button.order-btn:hover { background: #444; }
    .note { font-size: 14px; color: #666; text-align: center; margin-top: 20px; }
    .footer-contact { max-width: 800px; margin: 30px auto 20px; text-align: center; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
    .btn-share, .btn-copy { background: #222; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: bold; cursor: pointer; transition: background 0.3s ease; min-width: 180px; }
    .btn-share:hover, .btn-copy:hover { background: #ffb700; color: #222; }
  </style>
</head>
<body>
<div class="top-bar">
  <nav class="nav-icons">
  <a href="account.html" id="accountLink" style="position: relative;">
    <i class="fa fa-user"></i><span>Ø­Ø³Ø§Ø¨Ùƒ</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="orders.html" id="ordersLink" style="position: relative;">
    <i class="fa fa-box"></i><span>Ø·Ù„Ø¨Ø§ØªÙƒ</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="add-money.html" id="addMoneyLink" style="position: relative;">
    <i class="fa fa-wallet"></i><span>Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="reviews_complaints.html" id="reviewsLink" style="position: relative;">
    <i class="fa fa-comments"></i><span>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="notifications.html" id="notificationsLink" style="position: relative;">
    <i class="fa fa-bell"></i><span>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
    <span id="notifBadge">0</span>
  </a>
  <a href="ranking.html" id="rankingLink" style="position: relative;">
    <i class="fa fa-crown"></i><span>Ø§Ù„ØªØµÙ†ÙŠÙ</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="vote-event.html" id="eventsLink" style="position: relative;">
    <i class="fa fa-bolt"></i><span>Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="support_chat.html" id="supportLink" style="position: relative;">
    <i class="fa fa-headset"></i><span>ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ø´ÙƒØ§ÙˆÙ‰</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="wheel.html" id="wheelLink" style="position: relative;">
    <i class="fa fa-dharmachakra"></i><span>Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
  <a href="chat.html" id="chatLink" style="position: relative;">
    <i class="fa fa-comments"></i><span>Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
    <span id="chatBadge">0</span>
  </a>
  <a href="news.html" id="newsLink" style="position: relative;">
    <i class="fa fa-newspaper"></i><span>Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</span>
    <span class="lock-icon" style="display:none; margin-left:5px; font-size:14px;">ğŸ”’</span>
  </a>
</nav>
  <div class="user-area">
    <span id="balance">Ø±ØµÙŠØ¯Ùƒ: ...</span>
    <button onclick="logout()"><i class="fa fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬</button>
  </div>
</div>
<div class="dashboard">
  <h2>Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨</h2>
  <label for="mainService">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:</label>
  <select id="mainService">
    <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©</option>
    <option value="Ø£Ù„Ø¹Ø§Ø¨">Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨</option>
    <option value="Ø³ÙˆØ´ÙŠØ§Ù„">Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„</option>
    <option value="Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</option>
  </select>
  <label for="subService">Ø§Ù„Ø®Ø¯Ù…Ø©:</label>
  <select id="subService"></select>
  <label for="package">Ø§Ù„Ø¨Ø§Ù‚Ø©:</label>
  <select id="package"></select>
  <label for="accountInput" id="accountLabel"> Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ - Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ - Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ - Ø§Ù„Ø§ÙŠØ¯ÙŠ </label>
  <input type="text" id="accountInput" />
  <button class="order-btn" onclick="submitOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
  <p class="note">Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ÙƒÙ„Ù… ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù…</p>
</div>
<div class="footer-contact">
  <button class="btn-share" onclick="shareSite()">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ</button>
  <button class="btn-copy" onclick="copyLink()">Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
</div>

<!-- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø®ØµØµ -->
<div id="customAlert" style="
  display:none;
  position: fixed;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.4);
  padding: 20px 30px;
  max-width: 320px;
  text-align: center;
  font-weight: bold;
  font-size: 17px;
  z-index: 9999;
  color: #222;
">
  <i id="alertIcon" class="fa fa-info-circle" style="color: #007bff; font-size: 28px; margin-bottom: 10px;"></i>
  <div id="alertText" style="margin-bottom: 15px;"></div>
  <button onclick="hideCustomAlert()" style="
    background: #ffb700;
    border: none;
    padding: 8px 20px;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
    font-size: 15px;
    color: #222;
  ">Ø­Ø³Ù†Ø§Ù‹</button>
</div>
  
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script>
  // ØªÙ‡ÙŠØ¦Ø© Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyAYcZ2_RjaI4fjP14QlqbUbL3rWvPPWnas",
    authDomain: "sheko-store.firebaseapp.com",
    databaseURL: "https://sheko-store-default-rtdb.firebaseio.com",
    projectId: "sheko-store",
    storageBucket: "sheko-store.appspot.com",
    messagingSenderId: "113892775847",
    appId: "1:113892775847:web:2aa4c11c3f5dd1d15f0882"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();
  let currentUser = null;

  // Ø§Ù„Ø£Ø³Ø¹Ø§Ø± (Ù†Ù‚Ù„ØªÙ‡Ø§ ÙƒÙ…Ø§ Ù‡ÙŠ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±)
  const prices = {
    "Ø£Ù„Ø¹Ø§Ø¨": {
      "Ø¨Ø¨Ø¬ÙŠ Ù…ÙˆØ¨Ø§ÙŠÙ„": {
        "60 Ø´Ø¯Ù‡": 50,
        "325 Ø´Ø¯Ù‡": 250,
        "660 Ø´Ø¯Ù‡": 500,
        "1800 Ø´Ø¯Ù‡": 1200
      },
      "ÙƒÙˆØ¯ Ù…ÙˆØ¨Ø§ÙŠÙ„": {
        "30 Ø³ÙŠ Ø¨ÙŠ": 25,
        "88 Ø³ÙŠ Ø¨ÙŠ": 60,
        "420 Ø³ÙŠ Ø¨ÙŠ": 260,
        "880 Ø³ÙŠ Ø¨ÙŠ": 500,
        "2400 Ø³ÙŠ Ø¨ÙŠ": 1250
      },
      "ÙÙŠÙØ§ Ù…ÙˆØ¨Ø§ÙŠÙ„": {
        "40 Ø¹Ù…Ù„Ù‡": 25,
        "100 Ø¹Ù…Ù„Ù‡": 60,
        "520 Ø¹Ù…Ù„Ù‡": 300,
        "1070 Ø¹Ù…Ù„Ù‡": 550
      },
      "ÙØ±ÙŠ ÙØ§ÙŠØ±": {
        "50 Ø¬ÙˆÙ‡Ø±Ù‡": 30,
        "100 Ø¬ÙˆÙ‡Ø±Ù‡": 60,
        "200 Ø¬ÙˆÙ‡Ø±Ù‡": 120,
        "310 Ø¬ÙˆÙ‡Ø±Ù‡": 180,
        "520 Ø¬ÙˆÙ‡Ø±Ù‡": 300,
        "1060 Ø¬ÙˆÙ‡Ø±Ù‡": 550
      },
      "Delta Force": {
        "18 Ø¹Ù…Ù„Ù‡": 20,
        "30 Ø¹Ù…Ù„Ù‡": 30,
        "60 Ø¹Ù…Ù„Ù‡": 55,
        "300 Ø¹Ù…Ù„Ù‡": 250,
        "420 Ø¹Ù…Ù„Ù‡": 350,
        "680 Ø¹Ù…Ù„Ù‡": 500,
        "1280 Ø¹Ù…Ù„Ù‡": 1000
      },
      "Valorant": {
        "475 Ø¹Ù…Ù„Ù‡": 270,
        "1000 Ø¹Ù…Ù„Ù‡": 530,
        "2050 Ø¹Ù…Ù„Ù‡": 1000,
        "3650 Ø¹Ù…Ù„Ù‡": 1800
      },
      "league of legends": {
        "575 Ø§Ø± Ø¨ÙŠ": 260,
        "1380 Ø§Ø± Ø¨ÙŠ": 600,
        "2800 Ø§Ø± Ø¨ÙŠ": 1120,
        "4500 Ø§Ø± Ø¨ÙŠ": 1900
      }
    },
    "Ø³ÙˆØ´ÙŠØ§Ù„": {
      "ØªÙŠÙƒ ØªÙˆÙƒ": {
        "1000 Ù…ØªØ§Ø¨Ø¹ Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±": 40,
        "1000 Ù…ØªØ§Ø¨Ø¹ Ø¨Ø¯ÙˆÙ† Ø¨Ø«": 100,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ù‡": 10,
        "1000 Ù„Ø§ÙŠÙƒ": 20,
        "1000 Ø§Ù„Ø­ÙØ¸": 10,
        "1000 Ù„Ø§ÙŠÙƒ ÙÙŠ Ø§Ù„ÙƒÙˆÙ…Ù†ØªØ§Øª": 20,
        "1000 Ù„Ø§ÙŠÙƒ ÙÙŠ Ø§Ù„Ø¨Ø«": 20,
        "1000 Ø§Ù„Ø§Ø³ØªÙˆØ±ÙŠ": 30,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ø³ØªÙˆØ±ÙŠ": 20,
        "1000 Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø§Ø³ØªÙˆØ±ÙŠ": 20,
        "1000 Ø§ÙƒØ³Ø¨Ù„ÙˆØ±": 20,
        "1000 ÙƒÙˆÙ…Ù†ØªØ§Øª Ø¨Ø«": 20,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø«": 40
      },
      "Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…": {
        "1000 Ù„Ø§ÙŠÙƒ": 25,
        "1000 Ù…ØªØ§Ø¨Ø¹ÙŠÙ†": 70,
        "1000 Ù„Ø§ÙŠÙƒØ§Øª [Ø¹Ø±Ø¨]": 40,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ø³ØªÙˆØ±ÙŠ": 20,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª": 10,
        "1000 Ø­ÙØ¸": 15,
        "1000 Ù…Ø´Ø§Ø±ÙƒÙ‡": 10,
        "1000 Ù„Ø§ÙŠÙƒØ§Øª ÙÙŠ Ø§Ù„ÙƒÙˆÙ…Ù†Øª": 190,
        "1000 Ù…Ø´Ø§Ø±ÙƒÙ‡ Ø§Ø³ØªÙˆØ±ÙŠ": 30,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø«": 90
      },
      "ÙŠÙˆØªÙŠÙˆØ¨": {
        "1000 Ù…Ø´ØªØ±ÙƒÙŠÙ†": 150,
        "1000 ÙƒÙˆÙ…Ù†Øª": 130,
        "1000 Ù„Ø§ÙŠÙƒØ§Øª": 30,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠ": 90,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¹Ø§Ø¯ÙŠÙ‡": 80,
        "1000 Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø§Ù„Ù…ØµØ¯Ø± ÙÙŠØ³Ø¨ÙˆÙƒ": 70,
        "1000 Ù„Ø§ÙŠÙƒØ§Øª ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ù‡": 60,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ù‡": 100,
        "1000 ØªÙØ§Ø¹Ù„ Ø¨Ø« Ø§ÙŠÙ…ÙˆØ¬ÙŠ": 30,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø« Ø±Ø¨Ø¹ Ø³Ø§Ø¹Ù‡": 70,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø« Ù†Øµ Ø³Ø§Ø¹Ù‡": 140,
        "1000 Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø« Ø³Ø§Ø¹Ù‡": 250
      }
    },
    "Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ": {
      "ÙƒØ±ÙˆØª Ø§Ù„ÙÙƒÙ‡": {
        "ÙƒØ±Øª ÙÙˆØ¯Ø§ÙÙˆÙ† 15 Ø¬Ù†ÙŠÙ‡": 15,
        "ÙƒØ±Øª ÙÙˆØ¯Ø§ÙÙˆÙ† 18 Ø¬Ù†ÙŠÙ‡": 18,
        "ÙƒØ±Øª ÙÙˆØ¯Ø§ÙÙˆÙ† 22 Ø¬Ù†ÙŠÙ‡": 22,
        "ÙƒØ±Øª ÙÙˆØ¯Ø§ÙÙˆÙ† 28 Ø¬Ù†ÙŠÙ‡": 28,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 15 Ø¬Ù†ÙŠÙ‡": 15,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 18 Ø¬Ù†ÙŠÙ‡": 18,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 22 Ø¬Ù†ÙŠÙ‡": 22,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 28 Ø¬Ù†ÙŠÙ‡": 28,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 40 Ø¬Ù†ÙŠÙ‡": 40,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 45 Ø¬Ù†ÙŠÙ‡": 45,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 55 Ø¬Ù†ÙŠÙ‡": 55,
        "ÙƒØ±Øª Ø§ÙˆØ±Ù†Ø¬ 65 Ø¬Ù†ÙŠÙ‡": 65,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 15 Ø¬Ù†ÙŠÙ‡": 15,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 18 Ø¬Ù†ÙŠÙ‡": 18,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 22 Ø¬Ù†ÙŠÙ‡": 22,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 28 Ø¬Ù†ÙŠÙ‡": 28,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 40 Ø¬Ù†ÙŠÙ‡": 40,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 42 Ø¬Ù†ÙŠÙ‡": 42,
        "ÙƒØ±Øª Ø¥ØªØµØ§Ù„Ø§Øª 65 Ø¬Ù†ÙŠÙ‡": 65
      }
    }
  };

  const mainService = document.getElementById("mainService");
  const subService = document.getElementById("subService");
  const packageEl = document.getElementById("package");
  const accountInput = document.getElementById("accountInput");
  const accountLabel = document.getElementById("accountLabel");
  const balanceEl = document.getElementById("balance");
  const notifBadge = document.getElementById("notifBadge");
  const chatBadge = document.getElementById("chatBadge");

  // ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹
  mainService.addEventListener("change", () => {
    subService.innerHTML = "";
    packageEl.innerHTML = "";
    const selectedMain = prices[mainService.value];
    if (!selectedMain) return;
    for (let sub in selectedMain) {
      let opt = document.createElement("option");
      opt.value = sub;
      opt.textContent = sub;
      subService.appendChild(opt);
    }
    updatePackage();

    // ØªØºÙŠÙŠØ± Ù†Øµ ÙˆØ¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
    if (mainService.value === "Ø£Ù„Ø¹Ø§Ø¨") {
      accountLabel.textContent = "ID ÙÙ‚Ø·:";
      accountInput.placeholder = "Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù€ ID ÙÙ‚Ø·";
      accountInput.type = "tel";
      accountInput.pattern = "\\d*"; // Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·
      accountInput.title = "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·";
    } else if (mainService.value === "Ø³ÙˆØ´ÙŠØ§Ù„") {
      accountLabel.textContent = "Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ [Ù…ØªØ§Ø¨Ø¹ÙŠÙ†-Ø¨Ø«] Ø§Ùˆ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:";
      accountInput.placeholder = "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·";
      accountInput.type = "text";
      accountInput.removeAttribute("pattern");
      accountInput.removeAttribute("title");
    } else if (mainService.value === "Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ") {
      accountLabel.textContent = "Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:";
      accountInput.placeholder = "Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ";
      accountInput.type = "tel";
      accountInput.removeAttribute("pattern");
      accountInput.removeAttribute("title");
    } else {
      accountLabel.textContent = "Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ / Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ / ID:";
      accountInput.placeholder = "";
      accountInput.type = "text";
      accountInput.removeAttribute("pattern");
      accountInput.removeAttribute("title");
    }
  });

  subService.addEventListener("change", updatePackage);

  function updatePackage() {
    packageEl.innerHTML = "";
    const selected = prices[mainService.value]?.[subService.value];
    if (!selected) return;
    for (let pkg in selected) {
      let opt = document.createElement("option");
      opt.value = pkg;
      opt.textContent = `${pkg} - ${selected[pkg]} Ø¬Ù†ÙŠÙ‡`;
      packageEl.appendChild(opt);
    }
  }

  // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  auth.onAuthStateChanged(user => {
    if (!user) return location.href = "index.html";
    currentUser = user;

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯
    db.ref("users/" + user.uid + "/balance").on("value", snapshot => {
      const balance = snapshot.val();
      balanceEl.textContent = `Ø±ØµÙŠØ¯Ùƒ: ${balance !== null ? balance : 0} Ø¬Ù†ÙŠÙ‡`;
    });

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    db.ref("notifications/" + user.uid).on("value", snapshot => {
      const count = snapshot.numChildren();
      if (count > 0) {
        notifBadge.style.display = "inline-block";
        notifBadge.textContent = count > 99 ? "99+" : count;
      } else {
        notifBadge.style.display = "none";
        }
    });

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡Ø©
    db.ref(`chat-messages/${user.uid}/unreadCount`).on("value", snapshot => {
      const count = snapshot.val() || 0;
      if (count > 0) {
        chatBadge.style.display = "inline-block";
        chatBadge.textContent = count > 99 ? "99+" : count;
      } else {
        chatBadge.style.display = "none";
      }
    });
  });

  // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø®ØµØµ
  function showCustomAlert(message, type = "info") {
    const alertBox = document.getElementById("customAlert");
    const alertText = document.getElementById("alertText");
    const alertIcon = document.getElementById("alertIcon");

    alertText.textContent = message;

    // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
    alertIcon.className = "fa";
    if (type === "error") {
      alertIcon.classList.add("fa-times-circle");
      alertIcon.style.color = "#dc3545"; // Ø£Ø­Ù…Ø±
    } else if (type === "success") {
      alertIcon.classList.add("fa-check-circle");
      alertIcon.style.color = "#28a745"; // Ø£Ø®Ø¶Ø±
    } else {
      alertIcon.classList.add("fa-info-circle");
      alertIcon.style.color = "#007bff"; // Ø£Ø²Ø±Ù‚
    }

    alertBox.style.display = "block";
  }

  function hideCustomAlert() {
    document.getElementById("customAlert").style.display = "none";
  }

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© Ø¨Ø¯Ù„ alert Ø§Ù„Ø¹Ø§Ø¯ÙŠ
  function submitOrder() {
    const service = mainService.value;
    const sub = subService.value;
    const pack = packageEl.value;
    const account = accountInput.value.trim();
    const cost = prices[service]?.[sub]?.[pack];

    if (!service || !sub || !pack || !account) {
      showCustomAlert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„", "error");
      return;
    }
    if (cost === undefined) {
      showCustomAlert("Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø©", "error");
      return;
    }

    if (service === "Ø£Ù„Ø¹Ø§Ø¨") {
      if (!/^\d+$/.test(account)) {
        showCustomAlert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ù„Ù„Ù€ ID ÙÙ‚Ø·.", "error");
        return;
      }
    }

    db.ref("users/" + currentUser.uid + "/balance").once("value").then(snapshot => {
      const balance = snapshot.val() || 0;
      if (balance < cost) {
        showCustomAlert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ø¥ØªÙ…Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ Ù„Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ø§Ø°Ù‡Ø¨ Ø§Ù„ÙŠ ØµÙØ­Ù‡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù…ÙˆØ§Ù„", "error");
        return;
      }
      const order = {
        uid: currentUser.uid,
        type: service,
        service: sub,
        package: pack,
        account: account,
        status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°",
        amount: cost,
        createdAt: new Date().toISOString()
      };
      const ordersRef = db.ref("orders");
      const newOrderRef = ordersRef.push();
      newOrderRef.set(order).then(() => {
        return db.ref("users/" + currentUser.uid).update({ balance: balance - cost });
      }).then(() => {
        showCustomAlert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ®ØµÙ… Ø§Ù„Ø±ØµÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­ Ø§Ø°Ù‡Ø¨ Ø§Ù„ÙŠ ØµÙØ­Ù‡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„ØªØªØ§Ø¨Ø¹ Ø·Ù„Ø¨Ùƒ", "success");
        mainService.value = "";
        subService.innerHTML = "";
        packageEl.innerHTML = "";
        accountInput.value = "";
        accountLabel.textContent = "Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ / ID:";
        accountInput.removeAttribute("pattern");
        accountInput.removeAttribute("title");
        accountInput.type = "text";
      }).catch(err => {
        console.error(err);
        showCustomAlert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨", "error");
      });
    });
  }

  function logout() {
    auth.signOut().then(() => {
      location.href = "index.html";
    });
  }

  function shareSite() {
    const url = "https://botcyber.github.io/Sheko-store-/";
    if (navigator.share) {
      navigator.share({
        title: "Sheko Store",
        text: "ØªÙØ¶Ù„ÙˆØ§ Ø¨Ø²ÙŠØ§Ø±Ø© Ù…ÙˆÙ‚Ø¹ Sheko Store Ù„Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª",
        url: url
      }).catch(console.error);
    } else {
      showCustomAlert("Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù…ØªØµÙØ­ÙƒØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡ ÙŠØ¯ÙˆÙŠØ§Ù‹.", "info");
    }
  }

  function copyLink() {
    const url = "https://botcyber.github.io/Sheko-store-/";
    navigator.clipboard.writeText(url).then(() => {
      showCustomAlert("ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹!", "success");
    }).catch(() => {
      showCustomAlert("ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·ØŒ ÙŠØ±Ø¬Ù‰ Ù†Ø³Ø®Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹.", "error");
    });
  }
<script>
  // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ ØªÙØ¹ÙŠÙ„ ÙˆØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
  const buttonIds = [
    "accountLink",
    "ordersLink",
    "addMoneyLink",
    "reviewsLink",
    "notificationsLink",
    "rankingLink",
    "eventsLink",
    "supportLink",
    "wheelLink",
    "chatLink",
    "newsLink"
  ];

  function updateButtonState(id, isEnabled) {
    const button = document.getElementById(id);
    if (!button) return;

    const lockIcon = button.querySelector('.lock-icon');

    if (isEnabled) {
      button.classList.remove("disabled");
      button.style.pointerEvents = "auto";
      button.style.opacity = "1";
      if (lockIcon) lockIcon.style.display = "none";
    } else {
      button.classList.add("disabled");
      button.style.pointerEvents = "none";
      button.style.opacity = "0.6";
      if (lockIcon) lockIcon.style.display = "inline";
    }
  }

  auth.onAuthStateChanged(user => {
    if (!user) return;

    db.ref("admin_buttons/" + user.uid).on("value", (snapshot) => {
      const data = snapshot.val() || {};
      buttonIds.forEach((id) => {
        const isEnabled = data[id] !== false; // Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…ÙØ¹Ù‘Ù„ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯
        updateButtonState(id, isEnabled);
      });
    });
  });
</script>
</body>
</html>
