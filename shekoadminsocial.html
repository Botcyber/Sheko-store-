<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SHEKO – الصفحة الرئيسية</title>

<!-- Font Awesome للـ Social Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body {
  font-family: Arial;
  background: linear-gradient(135deg, #fff, #000);
  color:#111;
  text-align:center;
  padding:20px;
}

#mainImage {
  max-width:350px;
  border-radius:10px;
  margin-bottom:20px;
  transition: transform 0.5s;
}
#mainImage:hover { transform: scale(1.05); }

/* روابط */
.links, .socials {
  display:flex;
  flex-direction: column;
  gap:15px;
  margin:20px auto;
  max-width:400px;
}

/* كل رابط */
.link-item, .social-item {
  display:flex;
  align-items:center;
  justify-content:flex-start;
  background:#222;
  color:white;
  border-radius:10px;
  padding:10px;
  cursor:pointer;
  transition: transform 0.3s, background 0.3s;
}
.link-item:hover, .social-item:hover { transform: translateX(10px); background:#444; }

.link-icon, .social-icon {
  font-size:24px;
  margin-right:10px;
}
.link-name, .social-name { font-size:16px; }
</style>
</head>
<body>

<img id="mainImage" src="" alt="صورة رئيسية">

<div class="links" id="linksList"></div>
<div class="socials" id="socialList"></div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAYcZ2_RjaI4fjP14QlqbUbL3rWvPPWnas",
  authDomain: "sheko-store.firebaseapp.com",
  databaseURL: "https://sheko-store-default-rtdb.firebaseio.com",
  projectId: "sheko-store",
  storageBucket: "sheko-store.appspot.com",
  messagingSenderId: "113892775847",
  appId: "1:113892775847:web:2aa4c11c3f5dd1d15f0882"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// الصورة الرئيسية
db.ref("mainPage/image").on("value", snap=>{
  const val = snap.val();
  if(val) document.getElementById("mainImage").src = val;
});

// الروابط
db.ref("mainPage/links").on("value", snap=>{
  const container = document.getElementById("linksList");
  container.innerHTML = "";
  snap.forEach(child=>{
    const data = child.val();
    const div = document.createElement("div");
    div.className = "link-item";
    div.onclick = ()=> window.open(data.url,"_blank");
    div.innerHTML = `<span class="link-icon">${data.icon}</span><span class="link-name">${data.name}</span>`;
    container.appendChild(div);
  });
});

// السوشيال – أيقونات حقيقية من Font Awesome
const socialIcons = {
  facebook:"<i class='fab fa-facebook'></i>",
  instagram:"<i class='fab fa-instagram'></i>",
  youtube:"<i class='fab fa-youtube'></i>",
  tiktok:"<i class='fab fa-tiktok'></i>",
  twitter:"<i class='fab fa-twitter'></i>",
  snapchat:"<i class='fab fa-snapchat'></i>",
  whatsapp:"<i class='fab fa-whatsapp'></i>"
};

db.ref("mainPage/social").on("value", snap=>{
  const container = document.getElementById("socialList");
  container.innerHTML="";
  snap.forEach(child=>{
    const data = child.val();
    const div = document.createElement("div");
    div.className="social-item";
    div.onclick = ()=> window.open(data.url,"_blank");
    const icon = socialIcons[data.type] || "<i class='fas fa-globe'></i>";
    div.innerHTML = `<span class="social-icon">${icon}</span><span class="social-name">${data.type}</span>`;
    container.appendChild(div);
  });
});
</script>
</body>
</html>
