<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>لوحة إدارة الأعضاء</title>

<style>

body{
  background:#020409;
  color:white;
  font-family:'Cairo',sans-serif;
  margin:0;
}

h2{
  text-align:center;
}

.box{
  background:#0b1220;
  padding:15px;
  margin:10px;
  border-radius:16px;
}

input,select{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:0;
  margin-top:6px;
  margin-bottom:10px;
}

button{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:0;
  background:#0affc6;
  font-weight:900;
}

.memberItem{
  padding:10px;
  background:#0f1525;
  margin:6px;
  border-radius:12px;
}

</style>
</head>

<body>

<h2>إدارة أعضاء VIBE Studio</h2>

<div class="box">
  <label>اسم العضو</label>
  <input id="name">

  <label>المهنة</label>
  <input id="role">

  <label>رابط الصورة</label>
  <input id="image">

  <label>عضو مميز؟</label>
  <select id="featured">
    <option value="false">لا</option>
    <option value="true">نعم</option>
  </select>

  <button onclick="addMember()">➕ إضافة عضو</button>
</div>

<h3 style="text-align:center">كل الأعضاء</h3>
<div id="list"></div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>

const firebaseConfig = {
  apiKey: "AIzaSyAYcZ2_RjaI4fjP14QlqbUbL3rWvPPWnas",
  authDomain: "sheko-store.firebaseapp.com",
  databaseURL: "https://sheko-store-default-rtdb.firebaseio.com",
  projectId: "sheko-store",
  storageBucket: "sheko-store.appspot.com",
  messagingSenderId: "113892775847",
  appId: "1:113892775847:web:2aa4c11c3f5dd1d15f0882"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* إضافة عضو */
function addMember(){

  let data = {
    name: name.value,
    role: role.value,
    image: image.value,
    featured: featured.value === "true",
    time: Date.now()
  };

  db.ref("vibeMembers").push(data,()=>{
    alert("✔ تم إضافة العضو بنجاح");
  });

}

/* عرض وإدارة */
db.ref("vibeMembers").on("value",snap=>{

  list.innerHTML = "";

  snap.forEach(c=>{
    let m = c.val();
    list.innerHTML += `
      <div class="memberItem">
        ${m.name} — ${m.role}
        <br>
        <button onclick="del('${c.key}')">حذف</button>
      </div>
    `;
  });

});

function del(id){
  db.ref("vibeMembers/"+id).remove();
}

</script>

</body>
</html>
